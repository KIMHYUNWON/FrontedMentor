<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
  <link rel="stylesheet" href="./css/style.css">
  <title>Frontend Mentor | Interactive rating component</title>

  <!-- Feel free to remove these styles or customise in your own stylesheet 👍 -->
</head>
<body>
  <main>
  <!-- Rating state start -->
    <div id="rate">
      <img src="images/icon-star.svg">
      <h1>How did we do?</h1>

      <p>
        Please let us know how we did with your support request. All feedback is appreciated 
        to help us improve our offering!
      </p>
      <div id="select">
        <button class="num" value="one">1</button>
        <button class="num" value="two">2</button>
        <button class="num" value="three">3</button>
        <button class="num" value="four">4</button>
        <button class="num" value="five">5</button>
      </div>
      <div id="submit">
        <button type="submit" id="submit_button">SUBMIT</button>
      </div>
    </div>
  <!-- Rating state end -->

  <!-- Thank you state start -->
    <div id="thank">
      <div id="thank-you-image"><img src="images/illustration-thank-you.svg"></div>
      <div id="rating">You selected <span id="score"></span> out of 5</div>

      <p style="color:#fff;font-size:2rem;font-weight:600;text-align:center;">Thank you!</p>

      <p style="color:hsl(216, 12%, 54%);text-align:center;">
        We appreciate you taking the time to give a rating. If you ever need more support, 
        don’t hesitate to get in touch!
      </p>
    </div>
  <!-- Thank you state end -->

  </main>
  <footer class="attribution">
    Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>. 
    Coded by <a href="#">KimHyunWon</a>.
  </footer>
  <script>
    var num = document.querySelectorAll(".num");
    var submit = document.querySelector("#submit_button");
    var rate = document.querySelector("#rate");
    var thank = document.querySelector("#thank");
    var score = document.querySelector("#score");
    var grade;

    for(let i = 0; i<num.length; i++){
      num[i].isClick = false; 
      num[i].addEventListener("mouseover", function(){
        if(num[i].isClick){return;}
        this.style.backgroundColor = "hsl(25, 97%, 53%)";
        this.style.color = "#fff";
      });
      num[i].addEventListener("mouseout",function(){
        if(num[i].isClick){return;}
        this.style.backgroundColor = "hsl(213, 19%, 18%)";
        this.style.color= "hsl(216, 12%, 54%)";
      });
      num[i].addEventListener("click",function(){
        if(!num[i].isClick){
          num[i].isClick = true;
          grade = (i+1);
          this.style.backgroundColor = "hsl(217, 12%, 63%)";
          this.style.color ="#fff";
          for(let j = 0; j<num.length; j++){
            if(j != i){
              num[j].isClick = false;
              num[j].style.backgroundColor ="hsl(213, 19%, 18%)";
              num[j].style.color ="hsl(216, 12%, 54%)";
            }
          }
        }
        else{
          num[i].isClick = false;
          grade = null;
          this.style.backgroundColor = "hsl(213, 19%, 18%)";
          this.style.color ="hsl(216, 12%, 54%)";
        }
      });
    }
    submit.onclick = function(){
      rate.style.display = "none";
      thank.style.display = "block";
      score.innerText = grade;
    };

  </script>
</body>
</html>